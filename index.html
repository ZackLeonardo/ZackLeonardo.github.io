
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>MaiZ的博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="Zack Leonardo">
    

    
    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="MaiZ的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="MaiZ的博客">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MaiZ的博客">
<meta name="twitter:description">

    
    <link rel="alternative" href="/atom.xml" title="MaiZ的博客" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="imglogo">
				<a href="/"><img src="/img/logo.png" alt="MaiZ的博客" title="MaiZ的博客"/></a>
			</div>
			
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="MaiZ的博客">MaiZ的博客</a></h1>
				<h2 class="blog-motto">Zack Leonardo</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">首页</a></li>
					
						<li><a href="/archives">博客</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="搜索" />
						<input type="hidden" name="q" value="site:yoursite.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/06/13/meteorJourney/" title="meteor之旅" itemprop="url">meteor之旅</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2016-06-13T02:21:29.000Z" itemprop="datePublished"> 发表于 2016-06-13</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="meteor之旅">meteor之旅</h1><p>这篇笔记记录 <strong>Zack Leonardo</strong> 在学习meteor中的笔记记录。<br>首先官网上简单实用的教程(<a href="https://www.meteor.com/tutorials/react/creating-an-app)已经实现了一下，算是初步了解，在此基础上进行创造。" target="_blank" rel="external">https://www.meteor.com/tutorials/react/creating-an-app)已经实现了一下，算是初步了解，在此基础上进行创造。</a></p>
<p>首先看看如何在此基础上加一个带有视频的list，采用videojs。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Meteor/">Meteor</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/node-meteor/">node, meteor</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/06/13/meteorJourney/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/06/13/meteorJourney/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/17/Pi/" title="Pi 学习笔记" itemprop="url">Pi 学习笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2016-03-17T02:22:20.000Z" itemprop="datePublished"> 发表于 2016-03-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Pi_学习笔记">Pi 学习笔记</h1><h1 id="系统安装:">系统安装:</h1><p>参照官网。</p>
<h1 id="更新软件源:">更新软件源:</h1><p>树莓派提供镜像列表：<a href="http://www.raspbian.org/RaspbianMirrors" target="_blank" rel="external">http://www.raspbian.org/RaspbianMirrors</a></p>
<blockquote>
<p>＃nano /etc/apt/sources.list<br>添加：deb <a href="http://mirrors.ustc.edu.cn/raspbian/raspbian/" target="_blank" rel="external">http://mirrors.ustc.edu.cn/raspbian/raspbian/</a> wheezy main contrib non-free</p>
<p>#apt-get update</p>
</blockquote>
<h1 id="安装VNC">安装VNC</h1><p>远程桌面控制</p>
<p>安装：</p>
<blockquote>
<p>#sudo apt-get install tightvncserver</p>
<p>#tightvncserver</p>
</blockquote>
<p>修正Raspbian下TightVNC的bug,当 TightVNC Server 安装时，该文件没有被正确给用户 pi 赋予权限，可能会导致客户端无法再次连接，输入上边命令可以给该文件指定所有用户为 pi:</p>
<blockquote>
<p>#sudo chown pi /home/pi/.Xauthority</p>
</blockquote>
<p>创建初始化文件，让 tightvnc server 随系统启动自动运行:</p>
<blockquote>
<p>#sudo nano /etc/init.d/tightvnc<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">### BEGIN INIT INFO</span><br><span class="line"># Provides: tightvncserver</span><br><span class="line"># Required-Start:</span><br><span class="line"># Required-Stop:</span><br><span class="line"># Default-Start: 2 3 4 5</span><br><span class="line"># Default-Stop: 0 1 6</span><br><span class="line"># Short-Description: start vnc server</span><br><span class="line"># Description:</span><br><span class="line">### END INIT INFO</span><br><span class="line">case "$1" in</span><br><span class="line">start)</span><br><span class="line">su pi -c 'vncserver :1 -geometry 1360x768 -depth 24 -pixelformat rgb888:'</span><br><span class="line">echo "VNC server Started"</span><br><span class="line">;;</span><br><span class="line">stop)</span><br><span class="line">pkill Xtightvnc</span><br><span class="line">echo "VNC server Terminated"</span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line">echo "Usage: /etc/init.d/tightvnc &#123;start|stop&#125;"</span><br><span class="line">exit 1</span><br><span class="line">;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure></p>
<p>#sudo chmod 755 /etc/init.d/tightvnc</p>
</blockquote>
<p>测试一下：</p>
<blockquote>
<p>#sudo /etc/init.d/tightvnc stop</p>
<p>#sudo /etc/init.d/tightvnc start</p>
</blockquote>
<p>更新一下 rc.d 文件让 tightvnc 脚本生效</p>
<blockquote>
<p>#sudo update-rc.d tightvnc defaults</p>
</blockquote>
<p>重启树莓派即可。</p>
<h1 id="启动root账号">启动root账号</h1><blockquote>
<p>sudo passwd root<br>sudo passwd –unlock root<br>由于openssh默认不再允许root用户以密码方式ssh登录，更改：<br>sudo nano /etc/ssh/sshd_config<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PermitRootLogin yes</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h1 id="sd卡容量扩容">sd卡容量扩容</h1><p>刚用Win32DiskImager做好的sd卡可能只有4G，需要把剩下的空间扩容进来，linux下gparted可以实现，虽然有windows版本，但是不支持ext3等格式，还是要在linux下扩容。</p>
<h1 id="mjpg-streamer摄像头">mjpg-streamer摄像头</h1><p>使用mjpg-streamer做视屏录制和监控。</p>
<p>安装依赖包</p>
<blockquote>
<p>sudo apt-get install libv4l-dev libjpeg8-dev imagemagick</p>
</blockquote>
<p>编译安装mjpg-streamer(省略下载解压，步骤简单)</p>
<blockquote>
<p>make USE_LIB4VL2=true clean all</p>
</blockquote>
<p>执行mjpg-streamer</p>
<blockquote>
<p>sudo ./mjpg-streamer -i “./input_uvc.so -d /dev/video0 -r 480*320 -f 12 -y” -o “./output_http.so -p 8090 -w ./www”</p>
</blockquote>
<p>浏览器打开</p>
<blockquote>
<p>ip:8090</p>
</blockquote>
<p>说明</p>
<blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-d specifies the device</span><br><span class="line">-r is resolution</span><br><span class="line">-f is frame rate, <span class="keyword">in</span> number <span class="keyword">of</span> frame per second</span><br><span class="line">-y specifies YUYV format, rather than MJPEG format.</span><br><span class="line"></span><br><span class="line">Output modifiers:</span><br><span class="line">-p is port</span><br><span class="line">-w is web serving directory.</span><br></pre></td></tr></table></figure>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">


</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/03/17/Pi/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/03/17/Pi/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/03/17/redux/" title="redux 学习笔记" itemprop="url">redux 学习笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2016-03-17T02:22:20.000Z" itemprop="datePublished"> 发表于 2016-03-17</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="Redux_学习笔记">Redux 学习笔记</h1><h1 id="Redux_三个基本原则:">Redux 三个基本原则:</h1><p>单一数据源</p>
<blockquote>
<p>整个应用的 state 被储存在一棵 object tree 中，并且这个 object tree 只存在于唯一一个 store 中。</p>
</blockquote>
<p>State 是只读的</p>
<blockquote>
<p>惟一改变 state 的方法就是触发 action，action 是一个用于描述已发生事件的普通对象。</p>
</blockquote>
<p>使用纯函数来执行修改</p>
<blockquote>
<p>为了描述 action 如何改变 state tree ，你需要编写 reducers。Reducer 只是一些纯函数，它接收先前的 state 和 action，并返回新的 state。</p>
</blockquote>
<h1 id="是将每个_action_type_定义为_string_常量">是将每个 action type 定义为 string 常量</h1><p>人们通常声称常量不是必要的。对于小项目也许正确。 对于大的项目，将 action types 定义为常量有如下好处：</p>
<blockquote>
<p>帮助维护命名一致性，因为所有的 action type 汇总在同一位置。<br>有时，在开发一个新功能之前你想看到所有现存的 actions 。而你的团队里可能已经有人添加了你所需要的action，而你并不知道。<br>Action types 列表在 Pull Request 中能查到所有添加，删除，修改的记录。这能帮助团队中的所有人及时追踪新功能的范围与实现。<br>如果你在导入一个 Action 常量的时候拼写错误，你会得到 undefined 。当你纳闷 action 被分发出去而什么也没发生的时候，一个拼写错误更容易被发现。<br>你的项目的约定取决与你自己。开始时，可能用的是 inline string，之后转为常量，也许之后将他们归为一个独立文件。</p>
</blockquote>
<h1 id="另一个约定俗成的做法，通过创建函数生成_action_对象，而不是在你分发的时候内联生成它们。">另一个约定俗成的做法，通过创建函数生成 action 对象，而不是在你分发的时候内联生成它们。</h1><p>例如，比起使用对象文字调用 dispatch ：</p>
<blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// somewhere in an event handler</span></span><br><span class="line">dispatch(&#123;</span><br><span class="line">  type: <span class="string">'ADD_TODO'</span>,</span><br><span class="line">  text: <span class="string">'Use Redux'</span></span><br><span class="line">&#125;);</span><br><span class="line">你其实可以在单独的文件中写一个 action creator ，然后从 component 里导入：</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">actionCreators.js</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">addTodo</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    type: <span class="string">'ADD_TODO'</span>,</span><br><span class="line">    text</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">AddTodo.js</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; addTodo &#125; <span class="keyword">from</span> <span class="string">'./actionCreators'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// event handler 里的某处</span></span><br><span class="line">dispatch(addTodo(<span class="string">'Use Redux'</span>))</span><br></pre></td></tr></table></figure>
</blockquote>
<p>我们不用担心去每个添加 todo 的地方看一看，以确认他们有了这个检查 Action creator 让你可以解耦额外的分发 action 逻辑与实际发送这些 action 的 components 。当你有大量开发工作且需求经常变更的时候，这种方法十分简便易用。</p>
<h1 id="生成_Action_Creators">生成 Action Creators</h1><p>写简单的 action creator 很容易容易让人厌烦，且往往最终生成多余的样板代码,你可以写一个用于生成 action creator 的函数.</p>
<h1 id="应该尽量减少在_action_中传递的数据。">应该尽量减少在 action 中传递的数据。</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  type: COMPLETE_TODO,</span><br><span class="line">  index: <span class="number">5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>比如上面的例子，传递 index 就比把整个任务对象传过去要好。</p>
<h1 id="Redux_中的_action_创建函数是_纯函数，它没有任何副作用，只是返回_action_对象而已">Redux 中的 action 创建函数是 纯函数，它没有任何副作用，只是返回 action 对象而已</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addTodo</span>(<span class="params">text</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    type: ADD_TODO,</span><br><span class="line">    text</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="设计_State_结构">设计 State 结构</h1><p>通常，这个 state 树还需要存放其它一些数据，例如 UI 相关的 state。这样做没问题，但尽量把这些数据与 UI 相关的 state 分开。</p>
<p>开发复杂的应用时，不可避免会有一些数据相互引用。建议你尽可能地把 state 范式化，不存在嵌套。把所有数据放到一个对象里，每个数据以 ID 为主键，不同数据相互引用时通过 ID 来查找。把应用的 state 想像成数据库。这种方法在 normalizr 文档里有详细阐述。例如，实际开发中，在 state 里同时存放 todosById: { id -&gt; todo } 和 todos: array<id> 是比较好的方式，本文中为了保持示例简单没有这样处理。</id></p>
<h1 id="保持_reducer_纯净非常重要">保持 reducer 纯净非常重要</h1><p>永远不要在 reducer 里做这些操作：</p>
<blockquote>
<p>修改传入参数；<br>执行有副作用的操作，如 API 请求和路由跳转；<br>调用非纯函数，如 Date.now() 或 Math.random()</p>
</blockquote>
<p>在高级篇里会介绍如何执行有副作用的操作。现在只需要谨记 reducer 一定要保持纯净。只要传入参数一样，返回必须一样。没有特殊情况、没有副作用，没有 API 请求、没有修改参数，单纯执行计算。</p>
<h1 id="reducer_合成，它是开发_Redux_应用最基础的模式。">reducer 合成，它是开发 Redux 应用最基础的模式。</h1><p>注意每个 reducer 只负责管理全局 state 中它负责的一部分。每个 reducer 的 state 参数都不同，分别对应它管理的那部分 state 数据。就可以把 reducer 拆分成独立文件来分别处理不同的数据域了。<br>Redux 提供了 combineReducers() 工具类来做上面做的事情，这样就能消灭一些样板代码了。</p>
<h1 id="Store">Store</h1><p>使用 action 来描述“发生了什么”，和使用 reducers 来根据 action 更新 state 的用法。<br>Store 就是把它们联系到一起的对象。Store 有以下职责：</p>
<blockquote>
<p>维持应用的 state；<br>提供 getState() 方法获取 state；<br>提供 dispatch(action) 方法更新 state；<br>通过 subscribe(listener) 注册监听器。</p>
</blockquote>
<p>再次强调一下 Redux 应用只有一个单一的 store。当需要拆分处理数据的逻辑时，使用 reducer 组合 而不是创建多个 store。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Note/">Note</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/redux/">redux</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/03/17/redux/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/03/17/redux/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2016/01/04/node-note/" title="node学习笔记" itemprop="url">node学习笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2016-01-04T04:30:42.000Z" itemprop="datePublished"> 发表于 2016-01-04</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="node_学习笔记">node 学习笔记</h1><p>这篇笔记记录 <strong>Zack Leonardo</strong> 在学习node中的笔记记录。</p>
<h1 id="node_编译es6">node 编译es6</h1><blockquote>
<p><strong>解答</strong><br>node –use-strict –harmony filename</p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Note/">Note</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/node/">node</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2016/01/04/node-note/#comments" class="ds-thread-count comments-count-link" data-thread-key="2016/01/04/node-note/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/12/22/intellij-idea/" title="intellij_idea笔记" itemprop="url">intellij_idea笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2015-12-22T03:16:56.000Z" itemprop="datePublished"> 发表于 2015-12-22</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="intellij_idea使用笔记">intellij idea使用笔记</h1><h1 id="intellij_idea_15_安装破解">intellij idea 15 安装破解</h1><blockquote>
<p><strong>解决:</strong></p>
<p>注册时选择License server，填 <a href="http://idea.lanyus.com" target="_blank" rel="external">http://idea.lanyus.com</a> ，然后点击OK，就注册了</p>
</blockquote>
<h1 id="tomcat_–_cannot_run_program_‘/path/to/tomcat/bin/catalina-sh’_error=13_permission_denied">tomcat – cannot run program ‘/path/to/tomcat/bin/catalina.sh’ error=13 permission denied</h1><blockquote>
<p><strong>解决:</strong></p>
<p>chmod a+x /path/to/tomcat/bin/catalina.sh</p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Blog/">Blog</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/idea/">idea</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/12/22/intellij-idea/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/12/22/intellij-idea/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/12/21/express/" title="express学习笔记" itemprop="url">express学习笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2015-12-21T06:37:16.000Z" itemprop="datePublished"> 发表于 2015-12-21</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="node-express_学习笔记">node-express 学习笔记</h1><p>这篇笔记记录 <strong>Zack Leonardo</strong> 在学习node-express中的笔记记录。</p>
<h1 id="ejs–报错_“XXX_is_not_defined”">ejs–报错 “XXX is not defined”</h1><p>使用EJS模板变量值使用&lt;%= variable_name %&gt;输出方式，字符串输出时默认经过escape转义编码。 当我们想要输出一些动态生成的HTML标签时可使用&lt;%- variable_nam %&gt;输出方式，这种方式不会被escape转义编码。</p>
<blockquote>
<p><strong>解决:</strong></p>
<p>&lt;%- XXX %&gt; 改为 &lt;%- locals.XXX %&gt;</p>
</blockquote>
<h1 id="ejs–简单实例">ejs–简单实例</h1><p>使用ejs的好处在于可以后台数据动态配置前端页面，写了一个简单例子如下：</p>
<blockquote>
<p><strong>例子：</strong></p>
<p>ejs定义模版长什么样<br>example.ejs:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;<span class="xml"><span class="tag">&lt;<span class="title">%=</span> <span class="attribute">title</span> %&gt;</span><span class="tag">&lt;/<span class="title">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">%</span> <span class="attribute">for</span>(<span class="attribute">var</span> <span class="attribute">i</span>=<span class="value">0;</span> <span class="attribute">i</span>&lt;<span class="attribute">supplies.length</span>; <span class="attribute">i</span>++) &#123; %&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">'supplies/&lt;%= supplies[i] %&gt;'</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">%=</span> <span class="attribute">supplies</span>[<span class="attribute">i</span>] %&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">ul</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>&gt;</p>
<blockquote>
<p>下面使用ejs模版<br>example.html:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="title">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">title</span>&gt;</span>ejs test<span class="tag">&lt;/<span class="title">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"js/ejs_production.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"js/jquery-2.1.4.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="title">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"testEJS"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="title">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span>&gt;</span><span class="javascript"></span><br><span class="line">      <span class="keyword">var</span> data = &#123;	title:	<span class="string">'Cleaning Supplies'</span>,</span><br><span class="line">                 supplies:	[<span class="string">'mop'</span>, <span class="string">'broom'</span>, <span class="string">'duster'</span>]	&#125;;</span><br><span class="line">      <span class="keyword">var</span> html = <span class="keyword">new</span> EJS(&#123;url: <span class="string">'example.ejs'</span>&#125;).render(data);</span><br><span class="line">      $(<span class="string">"#testEJS"</span>).html(html);<span class="comment">//</span></span><br><span class="line">    </span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="title">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>通过ejs.render(data),渲染出界面。</p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Note/">Note</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/express/">express</a><a href="/tags/node/">node</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/12/21/express/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/12/21/express/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/16/css-note/" title="css-note css学习笔记" itemprop="url">css-note css学习笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2015-11-16T10:45:33.000Z" itemprop="datePublished"> 发表于 2015-11-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="CSS_学习笔记">CSS 学习笔记</h1><p>这篇笔记记录 <strong>Zack Leonardo</strong> 在学习css中的笔记记录。</p>
<h1 id="高度自增长">高度自增长</h1><p>设置最小高度，然后自增长。</p>
<blockquote>
<p><strong>解决:</strong><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">min-height:<span class="number">100</span>px;    <span class="comment">/*高度最小值设置为：100px*/</span></span><br><span class="line">height:auto !important; <span class="comment">/*兼容FF,IE7也支持 !important标签*/</span></span><br><span class="line">height:<span class="number">100</span>px; <span class="comment">/*兼容ie6*/</span></span><br><span class="line">overflow:visible; <span class="comment">/*让IE能够当作height:auto来处理代码，不写也行*/</span></span><br></pre></td></tr></table></figure></p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Blog/">Blog</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/css/">css</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/16/css-note/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/11/16/css-note/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/16/javascript/" title="javascript学习笔记" itemprop="url">javascript学习笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2015-11-16T03:22:55.000Z" itemprop="datePublished"> 发表于 2015-11-16</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="javascript_学习笔记">javascript 学习笔记</h1><p>这篇笔记记录 <strong>Zack Leonardo</strong> 在学习javascript中的笔记记录。</p>
<h1 id="function_foo(){}_与_var_foo_=_function(){}_的区别">function foo(){} 与 var foo = function(){} 的区别</h1><blockquote>
<p><strong>解答</strong><br>function foo(){} 定义一个函数foo<br>var foo = function(){} 定义一个变量，引用一个匿名函数。<br>当JS引擎执行到这行时，会先执行右边，返回值是一个函数的字面量，然后将这个函数字面量赋值给foo<br>(function(){})(); 可用于立即执行的匿名函数。首先在第一对括号内，是一个匿名函数，第二个括号会立即调用这个匿名函数的返回值，也就是匿名函数中的内容被立即执行。</p>
</blockquote>
<h1 id="去除换行_and_所有空格">去除换行 and 所有空格</h1><blockquote>
<p><strong>解答</strong></p>
<ol>
<li><p>去除换行</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.prototype.Trim_n = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/\r\n|\n/g</span>,<span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>去除所有空格</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeAllSpace</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> str.replace(<span class="regexp">/\s+/g</span>, <span class="string">""</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<p>&gt;</p>
<h1 id="equals方法和“==”的区别">equals方法和“==”的区别</h1><p><a href="http://blog.csdn.net/SCAUSCNU/article/details/6198883" target="_blank" rel="external">http://blog.csdn.net/SCAUSCNU/article/details/6198883</a></p>
<h1 id="js中JSON为何不能push">js中JSON为何不能push</h1><blockquote>
<p><strong>解答</strong><br>json在JS中本身也是个对象，创建、访问都可以用对象的方法。所以不能用数组的push方法。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;name1:<span class="string">"value1"</span>, name2:<span class="string">"value2"</span>&#125;; <span class="comment">// 新建</span></span><br><span class="line"></span><br><span class="line">obj.name3 = <span class="string">"value3"</span>; <span class="comment">// 添加</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;name4:<span class="string">"value4"</span>, name5:obj&#125; <span class="comment">// 新建并引用创建元素</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (obj2.obj.name1) &#123;<span class="keyword">var</span> x = obj2.name4;&#125; <span class="comment">// 访问</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>&gt;</p>
<h1 id="JSON与JS对象的相互转换">JSON与JS对象的相互转换</h1><blockquote>
<p><strong>解答</strong><br>JS对象转换成为JSON:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(object);</span><br></pre></td></tr></table></figure></p>
<p>JSON对象解析:<br>jQuery:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = $.parseJSON(json_data);</span><br></pre></td></tr></table></figure></p>
<p>node:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.parse(json_data);</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h1 id="笔记：《javascript:_the_good_parts》">笔记：《javascript: the good parts》</h1><blockquote>
<p><strong>笔记</strong><br>1.<code>js
/*   */</code> 注解的不安全性，导致作者选择只使用／／。</p>
<ol>
<li>值NaN是一个数值，它表示一个不能产生正常结果的运算结果。不等于任何值，包括它自己。检测用：isNaN()。</li>
<li>对象通过引用来传递，永远不会被拷贝。</li>
</ol>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Blog/">Blog</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/js/">js</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/16/javascript/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/11/16/javascript/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/14/react-note/" title="react-note react学习笔记" itemprop="url">react-note react学习笔记</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2015-11-14T02:26:08.000Z" itemprop="datePublished"> 发表于 2015-11-14</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="React_学习笔记">React 学习笔记</h1><p>这篇笔记记录 <strong>Zack Leonardo</strong> 在学习react中的笔记记录。</p>
<h1 id="devDependencies">devDependencies</h1><p>安装到 devDependencies 能让这个 package 能脱离 babel 运行，如果你只希望下载编译后的代码，放到 devDependencies 能让 npm install 不下载 Babel 编译器代码，让你的 package 更容易部署。</p>
<blockquote>
<p><strong>解决:</strong></p>
<p>npm install babel –save-dev</p>
</blockquote>
<h1 id="jsx_and_babel">jsx and babel</h1><p>什么是jsx？ jsx有何作用？</p>
<blockquote>
<p><strong>jsx是什么:</strong> JSX 是一种类 XML 语言,全称是 JavaScript XML 。<br><strong>jsx的作用：</strong> 在Javascript代码里直接写XML的语法，每一个XML标签都会被JSX转换工具(JSXTransformer)转换成纯Javascript代码，React 官方推荐使用JSX， 当然你想直接使用纯Javascript代码写也是可以的，只是使用JSX，更加方便。</p>
<p><strong>but！</strong> React v0.14 (next release), the JSXTransformer.js won’t be part of the release. Also <code>react-tools</code> npm package is no more. So whatchagonnawannado is switch to <strong>Babel</strong> .</p>
</blockquote>
<p>什么是babel？</p>
<blockquote>
<p><strong>babel是什么:</strong> 通天塔，打通了许多“天”。他是js的编译器。<br><strong>babel的作用：</strong> babel作用太多：<a href="https://babeljs.io" target="_blank" rel="external">https://babeljs.io</a> 。简单说，他可以吧es5转译成es6，可以把jsx转译成纯js。</p>
</blockquote>
<p>在react中的babel：</p>
<blockquote>
<p>之前：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"react/build/react.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"react/build/JSXTransformer.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>现在：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"react/build/react.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"babel/browser.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>使用：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/babel"</span>&gt;</span><br><span class="line">React.render( <span class="xml"><span class="tag">&lt;<span class="title">h1</span>&gt;</span><span class="tag">&lt;/<span class="title">h1</span>&gt;</span>, document.getElementById('') );</span><br><span class="line"><span class="tag">&lt;/<span class="title">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>这是在浏览器中，如果放到node里使用呢？</p>
<blockquote>
<p>可以直接在node中使用：<a href="https://babeljs.io/docs/setup/#node。" target="_blank" rel="external">https://babeljs.io/docs/setup/#node。</a><br>但是为了方便，也可以通过gulp等来使用：<a href="https://babeljs.io/docs/setup/#gulp。" target="_blank" rel="external">https://babeljs.io/docs/setup/#gulp。</a><br><strong>以gulp为例：</strong><br><strong>首先安装：</strong> 安装gulp和gulp-babel<br>npm install -g gulp<br>npm install –save-dev gulp-babel<br><strong>配置gulp：</strong><br>新建gulpfile.js：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">"gulp"</span>);</span><br><span class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">"gulp-babel"</span>);</span><br><span class="line">gulp.task(<span class="string">"default"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.src(<span class="string">"App/components/test.js"</span>)</span><br><span class="line">    .pipe(babel())</span><br><span class="line">    .pipe(gulp.dest(<span class="string">"dist"</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><strong>还不能运行哟，还要配置babel：</strong><br>新建.babelrc：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  <span class="string">"plugins"</span>: [<span class="string">"transform-react-jsx"</span>],</span><br><span class="line">  <span class="string">"ignore"</span>: [</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>告诉babel要做什么事情，比如：transform-react-jsx。<br><strong>现在可以了：</strong><br>运行gulp： gulp<br>gulp -&gt; gulpfile.js -&gt; default任务 -&gt; ( babel -&gt; .babelrc -&gt; transform-react-jsx ) -&gt; dist下输出结果文件。<br><strong>done！可以使用结果文件了。</strong></p>
</blockquote>
<h1 id="Error:_Cannot_find_module_‘react/lib/ExecutionEnvironment’－－－－react-style">Error: Cannot find module ‘react/lib/ExecutionEnvironment’－－－－react-style</h1><blockquote>
<p><strong>解决:</strong></p>
<ol>
<li>安装fbjs：<br>npm i -D fbjs</li>
<li>修改react-style/lib/index.js中：<br>var ExecutionEnvironment = require(‘react/lib/ExecutionEnvironment’);<br>为：<br>var ExecutionEnvironment = require(‘fbjs/lib/ExecutionEnvironment’);</li>
<li>修改react-style/lib/stylesToCSS.js中：<br>var hyphenateStyleName = require(‘react/lib/hyphenateStyleName’);<br>为：<br>var hyphenateStyleName = require(‘fbjs/lib/hyphenateStyleName’);</li>
</ol>
</blockquote>
<h1 id="redux的思想来源，深度好博">redux的思想来源，深度好博</h1><p><a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.7w5j383mb" target="_blank" rel="external">https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0#.7w5j383mb</a></p>
<h1 id="state_ES5，ES6初始化问题">state ES5，ES6初始化问题</h1><blockquote>
<p><strong>方式:</strong><br>ES5<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Video = React.createClass(&#123;</span><br><span class="line">    getInitialState: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            loopsRemaining: “”,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>ES6<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Video</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    state = &#123;</span><br><span class="line">        loopsRemaining: <span class="keyword">this</span>.props.maxLoops,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>或<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Video</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">    constructor(props)&#123;</span><br><span class="line">        <span class="keyword">super</span>(props);</span><br><span class="line">        <span class="keyword">this</span>.state = &#123;</span><br><span class="line">            loopsRemaining: <span class="keyword">this</span>.props.maxLoops,</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Note/">Note</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/node/">node</a><a href="/tags/react/">react</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/14/react-note/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/11/14/react-note/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/11/09/react-introduction/" title="React介绍以及他是如何适应一切的（译）" itemprop="url">React介绍以及他是如何适应一切的（译）</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="Zack Leonardo" target="_blank" itemprop="author">Zack Leonardo</a>
		
  <p class="article-time">
    <time datetime="2015-11-09T12:43:09.000Z" itemprop="datePublished"> 发表于 2015-11-09</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>先将原文转载于此，有时间翻译一下。</p>
<p>Posted on July 23, 2014 by Craig McKeachie    in React.js, Single-page Applications<br>React.js and How Does It Fit In With Everything Else?</p>
<p>Introduction</p>
<p>A few weeks ago I launched my book the JavaScript Framework Guide which focuses on helping developers and designers confidently choose and quickly learn the JavaScript MVC Frameworks: AngularJS, Backbone, and Ember. As part of my launch, I did a live Hangout Q&amp;A on JavaScript MVC Frameworks and a talk at my local JavaScript user group. I always get a lot of questions about comparing and contrasting the frameworks which at this point I feel confident in answering, but by far the most popular question I got was “what about React?” I had listened to a couple different podcasts about it and done the hello world and was honestly still confused and not very excited about React, but what was I missing? To help me better understand React, I wrote down what was confusing me about React in a series of questions then wrote more code, researched and answered each in this post.</p>
<p>react</p>
<p>Is React a Template Library?</p>
<p>The first thing you see when you come to the React site is the statement “Lots of people use React as the V in MVC.” Oh, so my initial thought was, “it’s a template library like handlebars.js (and its new variant htmlbars), mustache.js, dust.js, and the now deprecated jquery templates. I get it.” If you read on it says “Since React makes no assumptions about the rest of your technology stack, it’s easy to try it out on a small feature in an existing project.” My interpretation of this is they want you as a developer to try it out and don’t want to make it seem hard to get started. The phrase “lots of people” is important, because it hints that other people use it for more than the V in MVC. But is React a Template Library? No. In this Quora answer Pete Hunt, the public face and a contributor to React, clarified:</p>
<p>To set the record straight: React components are far more powerful than Angular templates; they should be compared with Angular’s directives instead. [Directives are Angular’s way of creating custom elements].</p>
<p>Is React Similar to Web Components?</p>
<p>Is React simply an implementation of Web Components, the upcoming standard for custom HTML5 user interface elements? As mentioned before, Pete Hunt said React components should be compared to AngularJS directives. The Angular team has always clearly stated a goal of directives informing and eventually being compatible with HTML5 Web Components. So saying React is an implementation of Web Components is logical and correct, but doesn’t tell the whole story. Comparing React to Web Components is the same as comparing AngularJS Directives and Ember Components to Web Components. They are similar but not the same thing. React Components are not Web Components because React is abstracted away from browser while Web Components will be a native browser feature.</p>
<p>There is a lot of stuff you get for free when you build like the browser doesn’t exists and this is one thing that distinguishes React from Web Components and Polymer and that kind of thing …they’re getting closer and closer in with the browser, and we’re getting farther and farther from the browser. And I think that our technique is more sustainable in the long term. — Pete Hunt on the Code Winds Podcast</p>
<p> Are the Virtual DOM and Shadow DOM the Same?</p>
<p>Another thing I was embarrassingly confused about was the question in my head about whether the shadow DOM feature of Web Components and the virtual DOM used by React are the same thing? The Shadow DOM feature of Web Components is not at all related to the the virtual DOM used by React.</p>
<p>The virtual DOM used by React is simply an internal implementation detail of the framework which powers its amazing rendering performance.</p>
<p>Virtual DOM</p>
<p>React keeps two copies of a virtual DOM (the original and updated versions). These two virtual DOM trees are passed into a React function that diffs them and a stream of DOM operations are returned (generally these operations involve setting a property on an element).</p>
<p>React.js Virtual DOM Infographic</p>
<p>Share this Image On Your Site</p>
<p>Shadow DOM</p>
<p>The Shadow DOM feature of Web Components allows us to encapsulate DOM and CSS as a single element on the page. The canonical example of this is the video element in HTML which when looked at in the Chrome web browser with its Shadow DOM feature enabled shows the complex set of HTML elements that make up the implementation of the element, not just a <video> tag.</video></p>
<p>video-element-w-shadow-dom</p>
<p>Can React be used with other JavaScript MVC Frameworks?</p>
<p>As mentioned earlier the React project’s home pages states “Lots of people use React as the V in MVC. Since React makes no assumptions about the rest of your technology stack, it’s easy to try it out on a small feature in an existing project.” So React can be used with other JavaScript MVC Frameworks by plugging it into a given framework’s web Component technology (Directives in AngularJS, Components in Ember, and smaller item views in Backbone).</p>
<p>Here are some articles that do a good job demonstrating how to use React with those frameworks.</p>
<p>AngularJS and React (using the ngReact directive)</p>
<p>AngularJS and React (using ngReact and a custom directive)</p>
<p>Backbone and React</p>
<p>Ember and React<br>(this Ember forum post discusses bringing them together and from what I see it should be possible, but I haven’t seen an example online)</p>
<p>Who Uses React.js?</p>
<p>Instagram.com is 100% built on React, both public site and internal tools.<br>Facebook.com‘s commenting interface, business management tools, Lookback video editor, page insights, and most, if not all, new JS development.<br>Khan Academy uses React for most new JS development.<br>Sberbank, Russia’s number one bank, is built with React.<br>The New York Times’s 2014 Red Carpet Project is built with React.<br>Is React a Premature Optimization if you aren’t Facebook or Instagram?</p>
<p>The React team talks in frames per second when describing their lightning fast rendering. Examples such as this one show lists of 1500 rows taking 1.35 seconds with AngularJS versus 310ms with ReactJs. This begs questions such as, should you ever render 1500 rows (can the user process this much on screen) and is trimming fractions of a second off of load times on reasonably designed pages a premature optimization in most applications?</p>
<p>Here is another article with a similar performance improvement using React with AngularJS.</p>
<p>Can I Work with Designers?</p>
<p>One of the most difficult things to warm up to with React is that the markup is mixed in with the JavaScript. This can make it difficult for developers to work with designers who may be more comfortable in CSS and HTML files and shy away from code. The React team contends that most designers quickly adapt and components can be named to match layers in the PSD document so developers and designers are more easily able to collaborate.</p>
<p>Will React Hurt my Search Engine Optimization (SEO)?</p>
<p>React is significantly more SEO friendly than most JavaScript MVC frameworks because it is based on a virtual DOM you can use it on the server without needing a headless browser on the server such as Phantom.js to render pages to search engine bots.</p>
<p>More specifically, React has the ability to render on the server side and transparently hook up its event handlers on the client, giving you the ability to handle both easily. If you call React.renderComponentToString on the server and then in the browser call React.renderComponent() on a node that already has this server-rendered markup, React will preserve it and only attach event handlers, allowing you to have a very performant first-load experience.</p>
<p> Is React a Framework for Building Applications or a Library with One Feature?</p>
<p>Is React a Framework? In other words can I use it by itself to build an application or is it a library, smaller in scope and focused on one feature. Again, this Quora answer from React contributor Pete Hunt does compare it to AngularJS but focuses the comparison on one feature of AngularJS, directives. This to me seems to be a fair comparison, React is a library with one great feature for building high performing web components today.</p>
<p>React as an Alternative Architecture</p>
<p>React does have an innovative architecture that can be used to build much more complex applications like the commenting system shown as the tutorial on the React site . The React core is a system for mapping a view hierarchy onto some sort of rendering back end and most often it targets the browser DOM. The React team has stated they are less concerned about the JavaScript reference implementation and instead focused on the architecture of React. In other words, they care about the alternative ideas they are putting out there for building client-side applications more than their specific implementation of them in React.js.</p>
<p>The innovation React brings is in three main areas:</p>
<p>1) An alternative to event and data binding framework architectures.</p>
<p>The React alternative is programming like you are throwing away your entire component and re-rendering it every time because it is simpler and easier to reason about. Event-based and data binding approaches frequently run into timing problems keeping track of which callback gets called first as well as make it difficult to understand how a small change in state will affect performance.</p>
<p>2) Virtual DOM</p>
<p>As described earlier, React generates a virtual description of the DOM that we want and then diffs that description with a previous one and emits the changes. This can be done efficiently and programming becomes simpler. We don’t think about synchronizing pieces of data with bindings and don’t think about events firing. You just have a minimal set of state and paint the browser DOM with it. The performance improvements they have been able to achieve with this approach has definitely gotten other frameworks to take notice.</p>
<p>3) Components</p>
<p>If you break down your application into smaller components (main menu, footer, list, list item, datepicker, etc.) then it becomes easier to imagine building a complex application and it remaining maintainable. This is the promise of component-based architectures. Essentially it is jQuery plugins but standardized and better encapsulated so an Ember component, works with an Angular component, works with a React component and comes bundled with HTML, CSS, and JavaScript and none of it conflicts with other components on your page. This is the dream.</p>
<p>React doesn’t quite deliver on the HTML, CSS, and JavaScript encapsulation story like Polymer, but React does have the huge advantage of not being a native browser feature. This abstraction allows it to be a technology that can be trusted today in the browser and on the server to have great performance and is not waiting for the browsers to catch up.</p>
<p>Are components a better way to build an application?</p>
<p>React Team members say that once you get beyond the simple hello world examples (where React is more code) React scales better with complexity. Components with encapsulated behavior is how they are able to keep the complexity lower by only looking at smaller pieces. One particularly impressive feature of react is how components can be composed and reused inside other components by simply using the markup for the custom component.</p>
<p>For example, CommentList and CommentForm are re-used inside CommentBox by simply writing the custom element tags.</p>
<p>var CommentBox = React.createClass({<br>  render: function() {<br>    return (<br>      <div classname="commentBox"><br>        <h1>Comments</h1><br>        <commentlist><br>           <commentform><br>      </commentform></commentlist></div><br>    );<br>  }<br>});</p>
<p>Can I build something complex with React?</p>
<p>From my research React seems to have real strengths in its support for rendering on the server and on the client (in browsers) with great performance and all this is available today. The simple programming model is refreshing, easy to learn, and reminiscent of Backbone. The concerns I have mostly center around can you build a complex line of business application with this technology? Are there enough features there to help you build a modern single-page application and have the developer be productive and the code be maintainable. Or is the React library an innovative idea for how frameworks might rethink their architectures but just one feature of a larger tool set that is needed— similar to how Knockout’s data binding evolved the landscape of JavaScript frameworks from Backbone’s simplicity to the productivity of  more recent frameworks like AngularJS and Ember.</p>
<p>Let me know what you think about React.js in the comments below and take the time to time to sign up for my free mini-course on JavaScript frameworks and libraries below.</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/blog/">blog</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/react/">react</a>
  </div>

</div>




<div class="comments-count">
	
	  	<span></span>
		<a href="/2015/11/09/react-introduction/#comments" class="ds-thread-count comments-count-link" data-thread-key="2015/11/09/react-introduction/" data-count-type="comments">&nbsp;</a>
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="github-card">
<p class="asidetitle">Github 名片</p>
<div class="github-card" data-github="ZackLeonardo" data-width="220" data-height="119" data-theme="medium">
<script type="text/javascript" src="//cdn.jsdelivr.net/github-cards/latest/widget.js" ></script>
</div>
  </div>



  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Blog/" title="Blog">Blog<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/Meteor/" title="Meteor">Meteor<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Note/" title="Note">Note<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/blog/" title="blog">blog<sup>1</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/node/" title="node">node<sup>3</sup></a></li>
			
		
			
				<li><a href="/tags/react/" title="react">react<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/redux/" title="redux">redux<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/react-native/" title="react-native">react-native<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/npm/" title="npm">npm<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/node-meteor/" title="node, meteor">node, meteor<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/js/" title="js">js<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/idea/" title="idea">idea<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/express/" title="express">express<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/css/" title="css">css<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="http://facebook.github.io/react-native/" target="_blank" title="react-native官网">react-native官网</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

  <div class="weiboshow">
  <p class="asidetitle">新浪微博</p>
    <iframe width="100%" height="119" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=119&fansRow=2&ptype=1&speed=0&skin=9&isTitle=1&noborder=1&isWeibo=0&isFans=0&uid=null&verifier=&dpc=1"></iframe>
</div>


</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m Zack Leonardo in ISCAS. <br/>
			开始写博客，虽然忙，日积月累嘛.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		<a href="https://github.com/ZackLeonardo" target="_blank" class="icon-github" title="github"></a>
		
		
		
		
		
		
		
		
		
		<a href="mailto:maiz9088@icloud.com" target="_blank" class="icon-email" title="Email Me"></a>
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2016 
		
		<a href="/about" target="_blank" title="Zack Leonardo">Zack Leonardo</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/jquery.qrcode-0.12.0.min.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>




<script type="text/javascript">
  var duoshuoQuery = {short_name:"maiz"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script> 







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->



<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fe6d1f421bbc9962127a50488f9ed37d1' type='text/javascript'%3E%3C/script%3E"));
</script>



<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1256729001'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s23.cnzz.com/z_stat.php%3Fid%3D1256729001' type='text/javascript'%3E%3C/script%3E"));</script>

<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
